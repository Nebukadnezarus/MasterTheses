% !TeX root = ../main.tex

\chapter{Dynamics Model}\label{chapter:dynamics-model}

We derive a 6-DoF rigid-body model of the platform with rotor thrust/torque and simplified aerodynamic forces/moments from the integrated wings.

\section{Frames, states, and inputs}
States: $(\mathbf{p},\mathbf{v},R,\boldsymbol{\omega}) \in \mathbb{R}^3\times\mathbb{R}^3\times SO(3)\times\mathbb{R}^3$. Inputs: rotor thrusts $\mathbf{u}=[f_1,\dots,f_4]^\top$ (or RPM), combined into total thrust $f_T$ and body torques $\boldsymbol{\tau}$ by allocation matrix $G$.

\section{Forces and moments}
- Gravity: $m\mathbf{g}$.
- Rotor thrust in body z: $\mathbf{F}_T = -f_T\, R\mathbf{e}_3$ (world frame).
- Aerodynamics (simplified): wing lift and drag quadratic in body-frame airspeed $\mathbf{v}_a = \mathbf{v} - \mathbf{v}_w$ transformed to the body.
  \begin{align}
  L &= \tfrac{1}{2}\rho S C_L(\alpha) \|\mathbf{v}_a\|^2, & D &= \tfrac{1}{2}\rho S C_D(\alpha) \|\mathbf{v}_a\|^2.
  \end{align}
We use $C_L=a_\alpha\alpha$, $C_D=C_{D0}+kC_L^2$ or the compact quadratic form $\mathbf{F}_\text{aero} = -k_D\,\|\mathbf{v}_a\|\,\mathbf{v}_a + k_L\,\|\mathbf{v}_a\|\,\mathbf{v}_{\perp}$ with $\mathbf{v}_{\perp}$ orthogonal to the surface.

Moments from aerodynamic center offset and rotor torques are aggregated into $\boldsymbol{\tau}=G_\tau\,\mathbf{u} + \boldsymbol{\tau}_\text{aero}$.

\section{Equations of motion}
\begin{align}
\dot{\mathbf{p}} &= \mathbf{v},\\
\dot{\mathbf{v}} &= \tfrac{1}{m}\big( m\mathbf{g} + \mathbf{F}_T + R\,\mathbf{F}_\text{aero} \big),\\
\dot{R} &= R\,[\boldsymbol{\omega}]_\times,\\
J\dot{\boldsymbol{\omega}} &= -\boldsymbol{\omega}\times J\boldsymbol{\omega} + \boldsymbol{\tau}.
\end{align}

Assumptions: quasi-steady aerodynamics, negligible prop-wash coupling in first-order model, parameter lumping for identification.
